{% extends "base_admin.html" %}

{% block content %}
<div class="container-fluid">
    <div class="text-white mb-3 fw-normal fs-6" style="padding-left: 240px;">
        Home / Administrador / Reportes
    </div>

    <!-- Contenido del Dashboard -->
    <main class="col-md-9 ms-sm-auto col-lg-10 px-4 rounded-4">
        <h1 class="my-4">Dashboard del Administrador - Don Galleto</h1>

        <!-- Fila de estadísticas -->
        <div class="row">
            <!-- Ventas Diarias -->
            <div class="col-md-3 mb-4">
                <div class="card shadow-sm">
                    <div class="card-body">
                        <h5 class="card-title">Ventas Diarias</h5>
                        <h3 class="card-text text-success">$10,000</h3>
                        <p class="text-muted">Hoy</p>
                    </div>
                </div>
            </div>

            <!-- Productos Más Vendidos -->
            <div class="col-md-3 mb-4">
                <div class="card shadow-sm">
                    <div class="card-body">
                        <h5 class="card-title">Productos Más Vendidos</h5>
                        <h3 class="card-text text-warning">Galleta de Chocolate</h3>
                        <p class="text-muted">Superando todas las expectativas</p>
                    </div>
                </div>
            </div>

            <!-- Presentaciones Más Vendidas -->
            <div class="col-md-3 mb-4">
                <div class="card shadow-sm">
                    <div class="card-body">
                        <h5 class="card-title">Presentaciones Más Vendidas</h5>
                        <h3 class="card-text text-primary">Paquete de 1kg</h3>
                        <p class="text-muted">La más popular entre nuestros clientes</p>
                    </div>
                </div>
            </div>

            <!-- Inventario Actual -->
            <div class="col-md-3 mb-4">
                <div class="card shadow-sm">
                    <div class="card-body">
                        <h5 class="card-title">Inventario Actual</h5>
                        <h3 class="card-text text-danger">1,500 Paquetes</h3>
                        <p class="text-muted">Disponible para distribución</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Gráficos de rendimiento -->
        <div class="row">
            <!-- Gráfico de Ventas por Semana -->
            <div class="col-md-6 mb-4">
                <div class="card shadow-sm">
                    <div class="card-body">
                        <h5 class="card-title">Ventas Semanales</h5>
                        <!-- Aquí puedes integrar un gráfico con Chart.js -->
                        <canvas id="ventasSemanales"></canvas>
                    </div>
                </div>
            </div>

            <!-- Gráfico de Productos Más Vendidos -->
            <div class="col-md-6 mb-4">
                <div class="card shadow-sm">
                    <div class="card-body">
                        <h5 class="card-title">Productos Más Vendidos</h5>
                        <!-- Otro gráfico para productos más vendidos -->
                        <canvas id="productosVendidos"></canvas>
                    </div>
                </div>
            </div>
        </div>

        <!-- Gráficos de desempeño -->
        <div class="row">
            <!-- Desempeño de la Producción -->
            <div class="col-md-6 mb-4">
                <div class="card shadow-sm">
                    <div class="card-body">
                        <h5 class="card-title">Desempeño de la Producción</h5>
                        <p class="text-muted">Comparación de la producción diaria frente a las metas de la semana</p>
                        <!-- Aquí puedes integrar otro gráfico -->
                        <canvas id="desempenoProduccion"></canvas>
                    </div>
                </div>
            </div>

            <!-- Análisis de Demanda -->
            <div class="col-md-6 mb-4">
                <div class="card shadow-sm">
                    <div class="card-body">
                        <h5 class="card-title">Análisis de Demanda</h5>
                        <p class="text-muted">Demanda de productos a lo largo del mes</p>
                        <!-- Gráfico para analizar la demanda -->
                        <canvas id="analisisDemanda"></canvas>
                    </div>
                </div>
            </div>
        </div>

    </main>
</div>

<script>
    // Generación de datos aleatorios para los gráficos (Ejemplo)
    function generarDatosVentasSemanales() {
        return [12000, 15000, 13000, 18000, 17000, 19000]; // Ventas de cada semana
    }

    function generarDatosProductosVendidos() {
        return [250, 300, 450, 500, 600, 550]; // Cantidad de productos vendidos por semana
    }

    // Configuración de gráficos con Chart.js
    document.addEventListener('DOMContentLoaded', function () {
        var ctxVentasSemanales = document.getElementById('ventasSemanales').getContext('2d');
        var ventasSemanalesChart = new Chart(ctxVentasSemanales, {
            type: 'line',
            data: {
                labels: ['Semana 1', 'Semana 2', 'Semana 3', 'Semana 4', 'Semana 5', 'Semana 6'],
                datasets: [{
                    label: 'Ventas en $',
                    data: generarDatosVentasSemanales(),
                    borderColor: '#4e73df',
                    backgroundColor: 'rgba(78, 115, 223, 0.1)',
                    tension: 0.3
                }]
            },
            options: {
                responsive: true,
                scales: {
                    y: {
                        beginAtZero: true
                    }
                }
            }
        });

        var ctxProductosVendidos = document.getElementById('productosVendidos').getContext('2d');
        var productosVendidosChart = new Chart(ctxProductosVendidos, {
            type: 'bar',
            data: {
                labels: ['Semana 1', 'Semana 2', 'Semana 3', 'Semana 4', 'Semana 5', 'Semana 6'],
                datasets: [{
                    label: 'Productos Vendidos',
                    data: generarDatosProductosVendidos(),
                    backgroundColor: 'rgba(75, 192, 192, 0.5)',
                    borderColor: 'rgba(75, 192, 192, 1)',
                    borderWidth: 1
                }]
            },
            options: {
                responsive: true,
                scales: {
                    y: {
                        beginAtZero: true
                    }
                }
            }
        });

        var ctxDesempenoProduccion = document.getElementById('desempenoProduccion').getContext('2d');
        var desempenoProduccionChart = new Chart(ctxDesempenoProduccion, {
            type: 'line',
            data: {
                labels: ['Lunes', 'Martes', 'Miércoles', 'Jueves', 'Viernes'],
                datasets: [{
                    label: 'Producción Diaria',
                    data: [200, 300, 250, 350, 400],
                    borderColor: '#28a745',
                    backgroundColor: 'rgba(40, 167, 69, 0.1)',
                    tension: 0.3
                }]
            },
            options: {
                responsive: true,
                scales: {
                    y: {
                        beginAtZero: true
                    }
                }
            }
        });

        var ctxAnalisisDemanda = document.getElementById('analisisDemanda').getContext('2d');
        var analisisDemandaChart = new Chart(ctxAnalisisDemanda, {
            type: 'bar',
            data: {
                labels: ['Semana 1', 'Semana 2', 'Semana 3', 'Semana 4', 'Semana 5', 'Semana 6'],
                datasets: [{
                    label: 'Demanda de Productos',
                    data: [100, 150, 200, 250, 300, 350],
                    backgroundColor: 'rgba(255, 159, 64, 0.5)',
                    borderColor: 'rgba(255, 159, 64, 1)',
                    borderWidth: 1
                }]
            },
            options: {
                responsive: true,
                scales: {
                    y: {
                        beginAtZero: true
                    }
                }
            }
        });
    });
</script>

{% endblock %}